# ÂÆòÊñπÊâãÂÜå - https://manual.nssurge.com/
# ÁêÜËß£ÂéüÁêÜ - https://manual.nssurge.com/book/understanding-surge/cn/
# Â∏ÆÂä©‰∏≠ÂøÉ - https://nssurge.zendesk.com/
# ÊäÄÊúØÁ§æÂå∫ - https://community.nssurge.com


# Self-use sgmodule:

# Advanced Settings & URL Redirect - https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Module/General.sgmodule

# Block Advertising for Surge iOS - https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Module/Block/Advertising.sgmodule

# Block YouTube Advertising - https://raw.githubusercontent.com/Maasea/sgmodule/master/YoutubeAds.sgmodule

# iRingo for Siri & Search - https://raw.githubusercontent.com/VirgilClyne/iRingo/main/sgmodule/Siri.Proxy.sgmodule

# iRingo for Location Services - https://raw.githubusercontent.com/VirgilClyne/iRingo/main/sgmodule/Location.sgmodule

# BoxJs - https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.surge.sgmodule

# iRingo.boxjs.json - https://raw.githubusercontent.com/VirgilClyne/iRingo/main/box/iRingo.boxjs.json

# Baidu È¶ñÈ°µÁ∫ØÂáÄÊêúÁ¥¢ - https://raw.githubusercontent.com/Keywos/rule/main/module/baiduIndex.sgmodule

[General]
# Update-2024.1.1.11.55

# ‰Ω†ÂèØ‰ª•‰ªéËØ• URL ‰∏ãËΩΩËøô‰∏™ÈÖçÁΩÆÊñá‰ª∂: https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/Surge/Surge%20Pro.conf

# > Â¢ûÂº∫Áâà Wi-Fi Âä©ÁêÜ
# Âú® Wi-Fi ÁΩëÁªú‰∏ç‰Ω≥Êó∂Â∞ùËØï‰ΩøÁî®Êï∞ÊçÆÁΩëÁªúÂª∫Á´ãËøûÊé•ÔºåËØ∑‰ªÖÂΩì‰ΩøÁî®‰∏çÈôêÈáèÁöÑÊï∞ÊçÆÊµÅÈáèÊó∂ÂºÄÂêØÔºåÈªòËÆ§ÂºÄÂêØ„ÄÇ
wifi-assist = true

# > Hybrid Network (Âª∫ËÆÆÂÖ≥Èó≠„ÄÅÊó†ÈôêÊµÅÈáèÊàñËÄÖË∂ÖÂá∫Â•óÈ§êÊµÅÈáè‰∏çÈôêÈÄüÂèØÈÄâÊã©ÂºÄÂêØÔºâ
# ÂØπÊâÄÊúâÁ≠ñÁï•ËÆæÁΩÆ hybrid = trueÔºåÊâÄÊúâ TCP ËøûÊé•Âú®Âª∫Á´ãÊó∂Âùá‰ºöÂπ∂ÂèëÂ∞ùËØïÊï∞ÊçÆÁΩëÁªúÂíå WiFi ËøûÊé•„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÊâÄÊúâ DNS Êü•ËØ¢Êìç‰Ωú‰πüÈÉΩÂ∞ÜÂπ∂ÂèëÂú®Êï∞ÊçÆÁΩëÁªúÂíå WiFi ‰∏äËøõË°å„ÄÇÊâÄ‰ª•Ëã•ÊÉ≥‰ΩìÈ™åËØ•ÂäüËÉΩÔºåËØ∑ÊâãÂä®ÈÖçÁΩÆÂÖ¨ÁΩë DNSÔºåÊöÇ‰∏çÊîØÊåÅ DOH„ÄÇËØ∑Ê≥®ÊÑèÊï∞ÊçÆÁΩëÁªúÁöÑÂ•óÈ§êÊµÅÈáè‰ΩøÁî®„ÄÇ
# Ê∑∑ÂêàÁΩëÁªúÔºåÈªòËÆ§ÂÖ≥Èó≠„ÄÇ
all-hybrid = false

# > Internet ÊµãËØï URL
internet-test-url = http://wifi.vivo.com.cn/generate_204

# > ‰ª£ÁêÜÊµãÈÄü URL
proxy-test-url = http://cp.cloudflare.com/generate_204

# > ÊµãËØïË∂ÖÊó∂ÔºàÁßíÔºâ
test-timeout = 5

# > Ëá™ÂÆö‰πâ GeoIP Êï∞ÊçÆÂ∫ìÔºàÊ†πÊçÆÈúÄÊ±ÇÈÄâ‰∏ÄÂç≥ÂèØÔºâ
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# geoip-maxmind-url = https://raw.githubusercontent.com/Hackl0us/GeoIP2-CN/release/Country.mmdb
# geoip-maxmind-url = https://github.com/Masaiki/GeoIP2-CN/raw/release/Country.mmdb

# > GeoIP Êï∞ÊçÆÂ∫ìËá™Âä®Êõ¥Êñ∞
disable-geoip-db-auto-update = false

# > VIF Excluded Routes
# Surge VIF Âè™ËÉΩÂ§ÑÁêÜ TCP Âíå UDP ÂçèËÆÆ„ÄÇ‰ΩøÁî®Ê≠§ÈÄâÈ°πÂèØ‰ª•ÁªïËøáÁâπÂÆöÁöÑ IP ËåÉÂõ¥ÔºåÂÖÅËÆ∏ÊâÄÊúâÊµÅÈáèÈÄöËøá„ÄÇ
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12

# > VIF Included Routes
# ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåSurge VIF Êé•Âè£‰ºöÂ£∞ÊòéËá™Â∑±ÊòØÈªòËÆ§Ë∑ØÁî±„ÄÇ‰ΩÜÊòØÔºåÁî±‰∫é Wi-Fi Êé•Âè£ÁöÑË∑ØÁî±ËæÉÂ∞èÔºåÊúâ‰∫õÊµÅÈáèÂèØËÉΩ‰∏ç‰ºöÈÄöËøá Surge VIF Êé•Âè£„ÄÇ‰ΩøÁî®Ê≠§ÈÄâÈ°πÂèØ‰ª•Ê∑ªÂä†‰∏ÄÊù°ËæÉÂ∞èÁöÑË∑ØÁî±„ÄÇ
# tun-included-routes = 192.168.1.12/32

# > UDP IP Èò≤Ê≥ÑÊºè
# Â¶ÇÊûúÊ≤°Êúâ‰ª£ÁêÜÊúçÂä°Âô®ÊîØÊåÅ UDP ËΩ¨ÂèëÔºåÂèØ‰øÆÊîπ‰∏∫„Äå direct „ÄçÊàñÊ≥®Èáä‰∏ãÊù°Ôºå‰ΩÜÈúÄÊ≥®ÊÑèÂêå‰∏ÄÁõÆÊ†á‰∏ªÊú∫Âêç TCP ËØ∑Ê±Ç‰∏é UDP ËØ∑Ê±ÇÁöÑÊ∫êÂú∞ÂùÄ‰∏çÂêåÊâÄÈÄ†ÊàêÁöÑÈöêÁßÅÂèäÂÆâÂÖ®È£éÈô©„ÄÇ
udp-policy-not-supported-behaviour = reject

# > ÈöêËóèÁä∂ÊÄÅÊ†è‰∏äÁöÑ VPN ÂõæÊ†á
# ÂêØÂä®ËØ•ÈÄâÈ°πÂèØËÉΩÂØºËá¥ „ÄåCannot allocate memory„ÄçÁ≥ªÁªüÈîôËØØÔºåËØ∑Ë∞®ÊÖé‰ΩøÁî®„ÄÇ
# hide-vpn-icon = true

# > ÊèêÈ´òÂ§ÑÁêÜ UDP ÊµÅÈáè‰ºòÂÖàÁ∫ß            
udp-priority = true

# > IPv6 ÊîØÊåÅ (ÈªòËÆ§ÂÖ≥Èó≠Ôºâ
ipv6 = false

# > IPv6 VIF (ÈªòËÆ§Á¶ÅÁî®Ôºâ
ipv6-vif = disabled

# > ÂÖÅËÆ∏ Wi-Fi ËÆøÈóÆ (‰ªÖ iOS Ôºâ
allow-wifi-access = true
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153

# > Allow Hotspot Access (ÁÉ≠ÁÇπÂàÜ‰∫´‰ª£ÁêÜÔºâ
allow-hotspot-access = true

# > ÂÖÅËÆ∏ Wi-Fi ËÆøÈóÆ (‰ªÖ macOSÔºåËã•ÂÖÅËÆ∏ËøúÁ®ãËÆøÈóÆÂ∞Ü„Äå127.0.0.1„ÄçÊîπ‰∏∫„Äå0.0.0.0„Äç)
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153

# > HTTP-API
# ‰æùÊ¨°‰∏∫ÔºöÂØÜÁ†ÅÔºå‰∏ªÊú∫ÂêçÔºåÁ´ØÂè£
http-api = Brian@0.0.0.0:6171

# > HTTP-API-TLS
http-api-tls = false

# > WebÊéßÂà∂Âô®
# SafariËæìÂÖ•127.0.0.1:6171,Â°´ÂÖ•HTTP-APIÂØÜÁ†ÅÂç≥ÂèØ„ÄÇ
http-api-web-dashboard = true

# > Ë∑≥Ëøá‰ª£ÁêÜ
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, iosapps.itunes.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com

# > ÊéíÈô§ÁÆÄÂçï‰∏ªÊú∫Âêç
exclude-simple-hostnames = true

# > DNS ÊúçÂä°Âô®
dns-server = 119.29.29.29, 223.5.5.5, system

# > Hijack DNS
# hijack-dns = 8.8.8.8:53, 8.8.4.4:53

# > Âä†ÂØÜÁöÑDNSÊúçÂä°Âô® (Â¶ÇÊó†ÂøÖË¶Å‰∏çÂª∫ËÆÆ‰ΩøÁî®)
encrypted-dns-server = h3://223.5.5.5/dns-query, quic://dns.alidns.com

# > ÂÖ≥Èó≠ DOH ÁöÑÊúçÂä°Á´ØËØÅ‰π¶È™åËØÅ
doh-skip-cert-verification=true

# ‰ΩøÂä†ÂØÜ DNS ËØ∑Ê±ÇÈÄöËøá‰ª£ÁêÜÁ≠ñÁï•ÊâßË°å
encrypted-dns-follow-outbound-mode = false

# > ‰ªé /etc/hosts ËØªÂèñ DNS ËÆ∞ÂΩï
read-etc-hosts = true

# > Êó•ÂøóÁ∫ßÂà´
loglevel = notify

# > ÂΩìÈÅáÂà∞ REJECT Á≠ñÁï•Êó∂ËøîÂõûÈîôËØØÈ°µ
show-error-page-for-reject = true

# > Always Real IP Hosts
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com

# > Ë∑ØÁî±Èò≤ÁÅ´Â¢ô
# ÂåÖÂê´ÊâÄÊúâÁöÑÁΩëÁªúËØ∑Ê±Ç
include-all-networks = false

# > ÂåÖÂê´Êú¨Âú∞ÁΩëÁªúËØ∑Ê±Ç
include-local-networks = false

# > ‰ª£ÁêÜËØ∑Ê±ÇÊú¨Âú∞ DNS Êò†Â∞Ñ
use-local-host-item-for-proxy = false

# > ‰ª£ÁêÜÊé•ÁÆ°‰ºòÂÖà
compatibility-mode = 1

# > Êñ∞Â¢û‰∏§‰∏™ÂèÇÊï∞ÔºàÈúÄË¶Å iOS 16.4 ‰ª•‰∏äÁâàÊú¨Ôºâ
# ËØ∑Ê≥®ÊÑèÔºåËøô‰∏§‰∏™ÈÄâÈ°π‰ªÖÂ∫îÂú®ÊúâÁâπÊÆäÈúÄÊ±ÇÊó∂ÂºÄÂêØ„ÄÇÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ã‰∏çÂ∫îËØ•ÂºÄÂêØ‰ª•ÈÅøÂÖç‰∫ßÁîüÈóÆÈ¢ò„ÄÇ

# > ËÆ© Surge Êé•ÁÆ° Apple Push Notification service (APNs) Áõ∏ÂÖ≥ËØ∑Ê±Ç
include-apns = false

# > ËÆ© Surge Êé•ÁÆ° VoLTE, Wi-Fi Calling, IMS, MMS, Visual Voicemail Á≠âÁõ∏ÂÖ≥Êï∞ÊçÆÁΩëÁªúÊúçÂä°ÁöÑËØ∑Ê±Ç
include-cellular-services = false

# > Âº∫Ë°åÂÖ≥Èó≠ÂØπÁâπÂÆö‰∏ªÊú∫ÂêçÁöÑ‰∏ªÂä®ÂçèËÆÆÊé¢Êµã
# Èò≤Ê≠¢TelegramÁªèÂ∏∏ËΩ¨Âúà
# always-raw-tcp-hosts = www.google.com, 91.108.*, 5.28.195.*, 149.154.1*, 185.76.151.*, 91.105.1*

# > ÊÄªÊòØËØªÂèñ-tcp-ÂÖ≥ÈîÆÂ≠ó
# Âú®ËøõË°åÂçèËÆÆÂóÖÊé¢Êó∂ÔºåÂ¶ÇÊûú HTTP Ê†áÂ§¥‰∏≠Âá∫Áé∞ÁâπÂÆöÂÖ≥ÈîÆÂ≠óÔºåÈÇ£‰πàËØ•ËØ∑Ê±ÇÂ∞ÜÊÅ¢Â§ç‰∏∫ÂéüÂßã TCP Â§ÑÁêÜÔºåËøôÂèØ‰ª•Áî®Êù•ÈÅøÂÖç‰∏Ä‰∫õÂÖºÂÆπÊÄßÈóÆÈ¢ò„ÄÇ
always-raw-tcp-keywords = m4s, m3u8, "Content-Type: application/pairing+tlv8"

[Ponte]
# > ÈÄöËøá‰ª£ÁêÜ‰ΩøÁî® Ponte
client-proxy-name = Proxy

[Panel]
Panel = title=TributePaulWalker, content=GitHub:https://github.com/TributePaulWalker,icon=aqi.medium,icon-color=#5AC8FA

ËäÇÂÅáÊèêÈÜí = script-name=ËäÇÂÅáÊèêÈÜí,update-interval=3600

# ‰ªäÊó•ÈªÑÂéÜ = script-name= ‰ªäÊó•ÈªÑÂéÜ,title=‰ªäÊó•ÈªÑÂéÜ,content=ËØ∑Âà∑Êñ∞,style=info,update-interval=86400

ÁΩëÁªú‰ø°ÊÅØ = script-name=ÁΩëÁªú‰ø°ÊÅØ,title=ÁΩëÁªú‰ø°ÊÅØ,content=ËØ∑Âà∑Êñ∞,style=info,update-interval=60

ÁΩëÁªúÂª∂Ëøü = script-name=ÁΩëÁªúÂª∂Ëøü,update-interval=1

ÈÖçÁΩÆÈáçËΩΩ = script-name=ÈÖçÁΩÆÈáçËΩΩ,title=ÈÖçÁΩÆÈáçËΩΩ,content=ÈÖçÁΩÆÈáçËΩΩ,style=info,update-interval=-1

[Proxy]
Direct = direct
Reject = reject

[Proxy Group]
# Êú∫Âú∫‰ø°ÊÅØ (encodeÂú∞ÂùÄÈìæÊé•: https://www.urlencoder.orgÔºâ
FlowerCloud = select, policy-path=http://sub.info?url=[URL encode ÂêéÁöÑÊú∫Âú∫ËäÇÁÇπÈìæÊé•]&due_day=23&alert=1&title=flowercloud, update-interval=3600, hidden=false

Proxy = select, HK, TW, JP, SG, US

Final = select, Proxy, Direct

Apple = select, Direct, HK, TW, JP, SG, US

# ÂõΩÂÜÖÁî®Êà∑Âª∫ËÆÆÁõ¥Ëøû„ÄÇ
Weibo = select, Direct, HK, TW, JP, SG, US

GitHub = select, HK, TW, JP, SG, US

YouTube = select, HK, TW, JP, SG, US

Telegram = select, HK, SG, US

# ‰ª•‰∏ãÁ≠ñÁï•Ê†πÊçÆËá™Â∑±ÈúÄÊ±ÇËá™Ë°åÂà†Èô§Ê≥®Èáä "#" Âç≥ÂèØ„ÄÇ
# Disney+ = select, HK, TW, JP, SG, US
# Netflix = select, HK, TW, JP, SG, US
# Spotify = select, HK, TW, JP, SG, US

Streaming = select, HK, TW, JP, SG, US

HK = url-test, policy-path=‰Ω†ÁöÑËÆ¢ÈòÖÂú∞ÂùÄÊàñsub-storeÁªÑÂêàËÆ¢ÈòÖÂú∞ÂùÄ, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(üá≠üá∞)|(Ê∏Ø)|(Hong)|(HK), hidden=false

TW = url-test, policy-path=‰Ω†ÁöÑËÆ¢ÈòÖÂú∞ÂùÄÊàñsub-storeÁªÑÂêàËÆ¢ÈòÖÂú∞ÂùÄ, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(üá®üá≥)|(Âè∞)|(Tai)|(TW), hidden=false

JP = url-test, policy-path=‰Ω†ÁöÑËÆ¢ÈòÖÂú∞ÂùÄÊàñsub-storeÁªÑÂêàËÆ¢ÈòÖÂú∞ÂùÄ, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(üáØüáµ)|(Êó•)|(Japan)|(JP), hidden=false

SG = url-test, policy-path=‰Ω†ÁöÑËÆ¢ÈòÖÂú∞ÂùÄÊàñsub-storeÁªÑÂêàËÆ¢ÈòÖÂú∞ÂùÄ, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(üá∏üá¨)|(Êñ∞)|(Singapore)|(SG), hidden=false

US = url-test, policy-path=‰Ω†ÁöÑËÆ¢ÈòÖÂú∞ÂùÄÊàñsub-storeÁªÑÂêàËÆ¢ÈòÖÂú∞ÂùÄ, interval=600, tolerance=50, update-interval=86400, policy-regex-filter=(üá∫üá∏)|(Áæé)|(States)|(US), hidden=false

[Rule]
# Â±èËîΩ HTTP3/QUIC ÂçèËÆÆ
# ÈòªÊ≠¢ÊâÄÊúâ UDP ÊµÅÈáèËøõÂÖ•443Á´ØÂè£Ôºå‰Ωø HTTP3 ËØ∑Ê±ÇÂõûËêΩÂà∞ TCP ÊµÅÈáè„ÄÇ
AND,((PROTOCOL,UDP),(DEST-PORT,443)),REJECT-NO-DROP

# Â±èËîΩ YouTube ÁöÑ UDP
AND,((PROTOCOL,UDP),(DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP

# Safari ËÆøÈóÆÈò≤Ë∑≥ËΩ¨ App
DOMAIN,app-site-association.cdn-apple.com,Reject

# ÁªïËøá App ‰ºÅ‰∏öËØÅ‰π¶ËøáÊúü
DOMAIN,ocsp.apple.com,Reject

# Boxjs ‰ª£ÁêÜ
DOMAIN-KEYWORD,jsdelivr.net,Proxy

# Sub-Store ÁöÑ Web È°µÈù¢
DOMAIN-SUFFIX,vercel.app,Proxy

# TestFlight ÂïÜÂ∫ó
DOMAIN,beta.apple.com,Proxy
DOMAIN,testflight.apple.com,Proxy

# Client (‰ªÖ macOS)
PROCESS-NAME,UUBooster,Direct

# > Download (‰ªÖ macOS)
PROCESS-NAME,aria2c,Direct
PROCESS-NAME,fdm,Direct
PROCESS-NAME,Folx,Direct
PROCESS-NAME,NetTransport,Direct
PROCESS-NAME,Thunder,Direct
PROCESS-NAME,Transmission,Direct
PROCESS-NAME,uTorrent,Direct
PROCESS-NAME,WebTorrent,Direct
PROCESS-NAME,WebTorrent Helper,Direct

# ÂêéÁª≠ËßÑÂàô‰øÆÊ≠£
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Direct/Direct.list,Direct

# ÂπøÂëäÊã¶Êà™
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,Reject
DOMAIN-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/AdvertisingPlus.list,Reject

# ÈöêÁßÅ‰øùÊä§
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,Reject

# ËøêËê•ÂïÜÂä´ÊåÅÊàñÊÅ∂ÊÑèÁΩëÁ´ô
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,Reject

# ËÖæËÆØ WeChat ASN
IP-ASN,132203,Direct
IP-ASN,56040,Direct
IP-ASN,45090,Direct

# ËÖæËÆØ WeChat
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/WeChat.list,Direct
RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Surge/WeChat.list,Direct

# Apple ÊúçÂä°
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/Apple.list,Apple
RULE-SET,https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/Surge/Ruleset/ApplePushNotificationService.list,Apple

# YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube

# ‰ª•‰∏ãËßÑÂàôÊ†πÊçÆËá™Â∑±ÈúÄÊ±ÇËá™Ë°åÂà†Èô§Ê≥®Èáä"#"Âç≥ÂèØ„ÄÇ
# Disney+
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/DisneyPlus.list,Disney+
# Netflix
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/Netflix.list,Netflix
# Spotify
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Music/Spotify.list,Spotify

# ÂõΩÈôÖÊµÅÂ™í‰ΩìÊúçÂä°
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,Streaming

# Telegram ÊúçÂä°
# Telegram DC1
IP-ASN,59930,US,no-resolve
# Telegram DC3
IP-ASN,211157,US,no-resolve
# Telegram DC5
IP-ASN,62014,SG,no-resolve
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.Telegram.list,Telegram
RULE-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/telegramcidr.txt,Telegram

# Êñ∞Êµ™ÂæÆÂçö (ÂõΩÂÜÖÁî®Êà∑Âª∫ËÆÆÁõ¥ËøûÔºâ
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Weibo/Weibo.list,Weibo

# GitHub Âä†ÈÄü
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,GitHub

# ÂÖ®ÁêÉÂä†ÈÄü
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,Proxy

# ‰∏≠ÂõΩÁõ¥Ëøû
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,Direct
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/auto-update/ruleset/ASN.China.list,Direct

# Èò≤Ê≠¢Â∫îÁî®Âæ™ÁéØËØ∑Ê±Ç
IP-CIDR,0.0.0.0/32,Reject,no-resolve

# Local Area Network Â±ÄÂüüÁΩë
RULE-SET,LAN,Direct

# GeoIP China
GEOIP,CN,Direct

FINAL,Final,dns-failed

[Host]
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188

# Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29

# PlayStation
*.dl.playstation.net = server:119.29.29.29

# Router Admin Panel
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib // FAST Router

# Apple
apple.com = server:223.5.5.5
*icloud.com = server:223.5.5.5
*icloud.com.cn = server:223.5.5.5
*testflight.apple.com = server:8.8.4.4

[Header Rewrite]
# ÁôæÂ∫¶ (ÂÖ®Á´ôÊõøÊç¢‰∏∫ÊâãÊú∫ÁôæÂ∫¶ Quark ÁöÑ User-AgentÔºâ
http-request ^https?:\/\/(?!d\.pcs).*(?<!map)\.baidu\.com header-replace-regex User-Agent .+iPhone.+ "Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)"

# Áü•‰πé (ÈÉ®ÂàÜÊõøÊç¢‰∏∫ÊâãÊú∫ÁôæÂ∫¶ Quark ÁöÑ User-AgentÔºâ
http-request ^https?:\/\/www\.zhihu\.com header-replace-regex User-Agent .+iPhone.+ "Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)"

[URL Rewrite]
# Safari ÂÖ®ËÉΩÊêúÁ¥¢
# ‰ª•‰∏ã‰∏∫ Safari ÂÖ®ËÉΩÊêúÁ¥¢„ÄÅÈúÄË¶ÅÊää Safari ÁöÑÊêúÁ¥¢ÂºïÊìéËÆæÁΩÆ‰∏∫: DuckDuckGo

# gm (GoogleÂõæÁâá)
^https:\/\/duckduckgo.com\/\?q=gm\+([^&]+).+ https://www.google.com/search?&tbm=isch&q=$1 302

# gh (GitHub)
^https:\/\/duckduckgo.com\/\?q=gh\+([^&]+).+ https://github.com/search?q=$1 302

# tf (Google ÊêúÁ¥¢ TestFlight)
^https:\/\/duckduckgo.com\/\?q=tf(\+|%20)([^&]+).+ https://www.google.com/search?as_q=$2&as_sitesearch=testflight.apple.com 302

# wb (ÂæÆÂçö)
^https:\/\/duckduckgo.com\/\?q=wb\+([^&]+).+ https://s.weibo.com/weibo/$1 302

# wx (ÂæÆ‰ø°)
^https:\/\/duckduckgo.com\/\?q=wx\+([^&]+).+ https://weixin.sogou.com/weixinwap?query=$1 302

# jd (‰∫¨‰∏ú)
^https:\/\/duckduckgo.com\/\?q=jd\+([^&]+).+ https://so.m.jd.com/ware/search.action?keyword=$1 302

# tb (Ê∑òÂÆù)
^https:\/\/duckduckgo.com\/\?q=tb\+([^&]+).+ https://s.m.taobao.com/h5?q=$1 302

# tm (Â§©Áå´)
^https:\/\/duckduckgo.com\/\?q=tm\+([^&]+).+ https://s.m.tmall.com/m/search.htm?q=$1 302

# ytb (YouTube)
^https:\/\/duckduckgo.com\/\?q=ytb\+([^&]+).+ https://www.youtube.com/results?search_query=$1 302

# ph (PornHub)
^https:\/\/duckduckgo.com\/\?q=ph\+([^&]+).+ https://cn.pornhub.com/video/search?search=$1 302

# db (Ë±ÜÁì£Ôºâ
^https:\/\/duckduckgo.com\/\?q=db\+([^&]+).+ https://m.douban.com/search/?query=$1 302

# bi (ÂøÖÂ∫î)
^https:\/\/duckduckgo.com\/\?q=bi\+([^&]+).+ https://cn.bing.com/search?q=$1 302

# bd (ÁôæÂ∫¶)
^https:\/\/duckduckgo.com\/\?q=bd\+([^&]+).+ https://www.baidu.com/s?wd=$1 302

# ccn (App Store ‰∏¥Êó∂Êç¢Ëá≥‰∏≠ÂõΩÂå∫)
^https:\/\/duckduckgo.com\/\?q=ccn&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143465&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=cn&urlDesc= 302

# uus (App Store ‰∏¥Êó∂Êç¢Ëá≥ÁæéÂõΩÂå∫)
^https:\/\/duckduckgo.com\/\?q=uus&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143441&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=us&urlDesc= 302

# hhk (App Store ‰∏¥Êó∂Êç¢Ëá≥È¶ôÊ∏ØÂå∫)
^https:\/\/duckduckgo.com\/\?q=hhk&.+ https://itunes.apple.com/WebObjects/MZStore.woa/wa/resetAndRedirect?dsf=143463&mt=8&url=/WebObjects/MZStore.woa/wa/viewSoftware?mt=8&id=1108187390&cc=hk&urlDesc= 302

# ddg (DuckDuckGo)
^https:\/\/duckduckgo.com\/\?q=ddg\+([^&]+).+ https://duckduckgo.com/?ia=about&q=$1 302

# Êó†Êåá‰ª§ (Google)
^https:\/\/duckduckgo.com\/\?q=([^&]+).+ https://www.google.com/search?q=$1 302

# ÈòªÊ≠¢ google.com Ë∑≥ËΩ¨Âà∞ google.com.hk
^https?:\/\/(www\.)?g\.cn https://www.google.com/ncr 302
^https?:\/\/(www\.)?google\.cn https://www.google.com/ncr 302

[Script]
Sub-Store Core=type=http-request,pattern=^https?:\/\/sub\.store\/((download)|api\/(preview|sync|(utils\/node-info))),script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-1.min.js,requires-body=true,timeout=120,ability=http-client-policy
Sub-Store Simple=type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-0.min.js,requires-body=true

Êú∫Âú∫‰ø°ÊÅØ = type=http-request,timeout=10,pattern=http://sub\.info,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/Sub_info_lite.js

ÁôæÂ∫¶ÊêúÁ¥¢Èò≤Ë∑≥ËΩ¨ = type=http-response,pattern=^https?\:\/\/boxer\.baidu\.com\/scheme,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/baidu-no-redirect.js

ÂæÆÂçöÂéªÂπøÂëä = type=http-response,pattern=^https?://(sdk|wb)app\.uve\.weibo\.com(/interface/sdk/sdkad.php|/wbapplua/wbpullad.lua),requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_launch.js
ÂæÆÂçöÂéªÂπøÂëä = type=http-response,pattern=^https?://m?api\.weibo\.c(n|om)/2/(messageflow/notice|search/(container_timeline|finder)|statuses/(container_timeline_hot|container_timeline_unread|container_timeline|unread|extend|positives/get|(friends|video)(/|_)(mix)?timeline)|stories/(video_stream|home_list)|(groups|fangle)/timeline|profile/statuses|comments/build_comments|photo/recommend_list|service/picfeed|searchall|cardlist|page|!/(photos/pic_recommend_status|live/media_homelist)|video/tiny_stream_video_list|photo/info|remind/unread_count),requires-body=1,max-size=-1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/wb_ad.js

Ëß£Èô§ÂæÆ‰ø°ÈìæÊé•ÈôêÂà∂ = type=http-response,pattern=^https\:\/\/(weixin110\.qq|security.wechat)\.com\/cgi-bin\/mmspamsupport-bin\/newredirectconfirmcgi\?,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/UnblockURLinWeChat.js

TestFlight‰∏ãËΩΩ‰øÆÊ≠£ = type=http-request,pattern=^https?:\/\/testflight\.apple\.com\/v\d\/accounts\/.+?\/install$,requires-body=1,script-update-interval=-1,max-size=0,script-path=https://gist.githubusercontent.com/NobyDa/9be418b93afc5e9c8a8f4d28ae403cf2/raw/TF_Download.js

ÁôæÂ∫¶‰∫ëVIPÂÄçÈÄüÊí≠Êîæ = type=http-response,pattern=https:\/\/pan\.baidu\.com\/rest\/2\.0\/membership\/user,requires-body=1,max-size=0,timeout=20,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/BaiduCloud.js

ËäÇÂÅáÊèêÈÜí = type=generic,timeout=10,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/Timecard.js

ÁΩëÁªú‰ø°ÊÅØ = type=generic,timeout=10,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/ipcheck.js

ÁΩëÁªúÂª∂Ëøü = type=generic,timeout=5,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/ConnectivityTest.js,argument=title=ÁΩëÁªúÂª∂Ëøü&server=false

ÈÖçÁΩÆÈáçËΩΩ = type=generic,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/Profile-Reload.js

WebË±ÜÁì£ÁîµÂΩ±ÂíåÁîµËßÜÂâßÊ∑ªÂä†‰æøÊç∑Êí≠ÊîæÊåâÈíÆ = type=http-response,pattern=^https?:\/\/m\.douban\.com\/movie\/subject\/\d+\/,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/I-am-R-E/Surge/main/JavaScript/DouBan.js

ÁæéÂõæÁßÄÁßÄVIP = type=http-response,pattern=^https?:\/\/(h5|api)\.xiuxiu\.meitu\.com\/v\d\/(h\d\/vip|vip|user)\/,requires-body=1,script-path=https://raw.githubusercontent.com/I-am-R-E/QuantumultX/main/JavaScript/MeiTuXiuXiu.js

# ‰ªäÊó•ÈªÑÂéÜ = type = generic,timeout=30,script-path= https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/wnCalendar.js

‰ªäÊó•ÈªÑÂéÜÊí≠Êä• = type=cron,timeout=30,cronexp=30 7 * * *,wake-system=1,script-path=https://raw.githubusercontent.com/TributePaulWalker/Profiles/main/JavaScript/Surge/wnCalendar.js

[SSID Setting]

[MITM]
# Ë∑≥ËøáÊúçÂä°Á´ØËØÅ‰π¶È™åËØÅ
skip-server-cert-verify = true

# MITM over HTTP/2
h2 = true

hostname = duckduckgo.com, *.google.cn, *.google.com.hk, sub.store, boxer.baidu.com, api.weibo.cn, mapi.weibo.com, *.uve.weibo.com, security.wechat.com, weixin110.qq.com, testflight.apple.com, pan.baidu.com, m.douban.com, h5.xiuxiu.meitu.com, api.xiuxiu.meitu.com, *.baidu.com, www.zhihu.com
